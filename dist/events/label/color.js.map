{"version":3,"file":"color.js","sourceRoot":"/","sources":["events/label/color.ts"],"names":[],"mappings":";;;AAAA,qCAAwC;AAG3B,QAAA,KAAK,GAAkB;IAClC,IAAI,EAAE,oBAAoB;IAC1B,KAAK,CAAC,OAAO,CAAC,IAAI;QAChB,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC;YACf,OAAO,EAAE;gBACP,KAAK,EAAE,CAAC,CAAC,wBAAwB,EAAE;oBACjC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,eAAe;oBACpC,KAAK,EAAE,IAAA,iBAAU,EAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC;oBACtC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,sBAAsB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC;oBAC3G,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,sBAAsB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC;iBACrG,CAAC;gBACF,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,CAAC;aAC9C;YACD,KAAK,EAAE;gBACL,WAAW,EAAE,CAAC,CAAC,wBAAwB,EAAE;oBACvC,MAAM,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,wBAAwB,IAAI,CAAC,OAAO,CAAC,QAAQ,0BAA0B;oBAC/G,KAAK,EAAE,IAAA,iBAAU,EAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC;oBACtC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,sBAAsB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC;oBAC3G,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,sBAAsB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC;iBACrG,CAAC;aACH;SACF,CAAC,CAAC;IACL,CAAC;CACF,CAAC","sourcesContent":["import { cutoffText } from '../../util';\nimport { EventFunction } from '../../util/events';\n\nexport const event: EventFunction = {\n  name: 'UPDATE_LABEL_COLOR',\n  async onEvent(data) {\n    const _ = data.locale;\n    return data.send({\n      default: {\n        title: _('webhooks.label_recolor', {\n          member: data.invoker.webhookSafeName,\n          label: cutoffText(data.label.name, 50),\n          oldColor: data.oldData.color ? _(`trello.label_color.${data.oldData.color}`) : _('trello.label_color.none'),\n          color: data.label.color ? _(`trello.label_color.${data.label.color}`) : _('trello.label_color.none')\n        }),\n        description: data.embedDescription(['label'])\n      },\n      small: {\n        description: _('webhooks.label_recolor', {\n          member: `[${data.invoker.webhookSafeName}](https://trello.com/${data.invoker.username}?utm_source=tacobot.app)`,\n          label: cutoffText(data.label.name, 25),\n          oldColor: data.oldData.color ? _(`trello.label_color.${data.oldData.color}`) : _('trello.label_color.none'),\n          color: data.label.color ? _(`trello.label_color.${data.label.color}`) : _('trello.label_color.none')\n        })\n      }\n    });\n  }\n};\n"]}