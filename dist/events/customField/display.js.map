{"version":3,"file":"display.js","sourceRoot":"/","sources":["events/customField/display.ts"],"names":[],"mappings":";;;AAAA,qCAAwC;AAG3B,QAAA,KAAK,GAAkB;IAClC,IAAI,EAAE,6BAA6B;IACnC,KAAK,CAAC,OAAO,CAAC,IAAI;QAChB,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QACtB,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACxD,IAAI,UAAU,KAAK,WAAW;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC;gBACf,OAAO,EAAE;oBACP,KAAK,EAAE,CAAC,CAAC,oCAAoC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE;wBAC9E,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,eAAe;wBACpC,WAAW,EAAE,IAAA,iBAAU,EAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC;qBACnD,CAAC;oBACF,WAAW,EAAE,EAAE;iBAChB;gBACD,KAAK,EAAE;oBACL,WAAW,EAAE,CAAC,CAAC,oCAAoC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE;wBACpF,MAAM,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,wBAAwB,IAAI,CAAC,OAAO,CAAC,QAAQ,0BAA0B;wBAC/G,WAAW,EAAE,IAAA,iBAAU,EAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC;qBACnD,CAAC;iBACH;aACF,CAAC,CAAC;IACP,CAAC;CACF,CAAC","sourcesContent":["import { cutoffText } from '../../util';\nimport { EventFunction } from '../../util/events';\n\nexport const event: EventFunction = {\n  name: 'UPDATE_CUSTOM_FIELD_DISPLAY',\n  async onEvent(data) {\n    const _ = data.locale;\n    const changedKey = Object.keys(data.oldData.display)[0];\n    if (changedKey === 'cardFront')\n      return data.send({\n        default: {\n          title: _(`webhooks.customfield_carddisplay_${!data.oldData.display.cardFront}`, {\n            member: data.invoker.webhookSafeName,\n            customField: cutoffText(data.customField.name, 50)\n          }),\n          description: ''\n        },\n        small: {\n          description: _(`webhooks.customfield_carddisplay_${!data.oldData.display.cardFront}`, {\n            member: `[${data.invoker.webhookSafeName}](https://trello.com/${data.invoker.username}?utm_source=tacobot.app)`,\n            customField: cutoffText(data.customField.name, 25)\n          })\n        }\n      });\n  }\n};\n"]}