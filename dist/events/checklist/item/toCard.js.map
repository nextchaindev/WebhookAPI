{"version":3,"file":"toCard.js","sourceRoot":"/","sources":["events/checklist/item/toCard.ts"],"names":[],"mappings":";;;AAAA,wCAA2D;AAG9C,QAAA,KAAK,GAAkB;IAClC,IAAI,EAAE,iCAAiC;IACvC,KAAK,CAAC,OAAO,CAAC,IAAI;QAChB,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC;YACf,OAAO,EAAE;gBACP,KAAK,EAAE,CAAC,CAAC,2BAA2B,EAAE;oBACpC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,eAAe;oBACpC,IAAI,EAAE,IAAA,iBAAU,EAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC;iBACrC,CAAC;gBACF,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACpD,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,GAAG,GAAG,CAAC,CAAC,iBAAiB,CAAC,GAAG,GAAG;wBACtC,KAAK,EAAE;4BACL,KAAK,CAAC,CAAC,gBAAgB,CAAC,QAAQ,IAAA,iBAAU,EAAC,IAAA,qBAAc,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,0BAClF,IAAI,CAAC,UAAU,CAAC,SAClB,GAAG;4BACH,KAAK,CAAC,CAAC,qBAAqB,CAAC,OAAO,IAAA,iBAAU,EAAC,IAAA,qBAAc,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;yBAC1F,CAAC,IAAI,CAAC,IAAI,CAAC;qBACb;iBACF;aACF;YACD,KAAK,EAAE;gBACL,WAAW,EAAE,CAAC,CAAC,2BAA2B,EAAE;oBAC1C,MAAM,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,wBAAwB,IAAI,CAAC,OAAO,CAAC,QAAQ,0BAA0B;oBAC/G,IAAI,EAAE,IAAI,IAAA,iBAAU,EAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,0BAA0B,IAAI,CAAC,IAAI,CAAC,SAAS,0BAA0B;iBAChH,CAAC;aACH;SACF,CAAC,CAAC;IACL,CAAC;CACF,CAAC","sourcesContent":["import { cutoffText, escapeMarkdown } from '../../../util';\nimport { EventFunction } from '../../../util/events';\n\nexport const event: EventFunction = {\n  name: 'CONVERT_TO_CARD_FROM_CHECK_ITEM',\n  async onEvent(data) {\n    const _ = data.locale;\n    return data.send({\n      default: {\n        title: _('webhooks.checkitem_tocard', {\n          member: data.invoker.webhookSafeName,\n          card: cutoffText(data.card.name, 50)\n        }),\n        description: data.embedDescription(['card', 'list']),\n        fields: [\n          {\n            name: '*' + _('trello.item_src') + '*',\n            value: [\n              `**${_('words.card.one')}:** [${cutoffText(escapeMarkdown(data.sourceCard.name), 50)}](https://trello.com/c/${\n                data.sourceCard.shortLink\n              })`,\n              `**${_('words.checklist.one')}:** ${cutoffText(escapeMarkdown(data.checklist.name), 50)}`\n            ].join('\\n')\n          }\n        ]\n      },\n      small: {\n        description: _('webhooks.checkitem_tocard', {\n          member: `[${data.invoker.webhookSafeName}](https://trello.com/${data.invoker.username}?utm_source=tacobot.app)`,\n          card: `[${cutoffText(data.card.name, 25)}](https://trello.com/c/${data.card.shortLink}?utm_source=tacobot.app)`\n        })\n      }\n    });\n  }\n};\n"]}